cc_library(
  name = "filament",
  visibility = ["//visibility:public"],
  includes = [
    "include",
  ],
  hdrs = glob([
    "include/**/*.h",
  ]),
  srcs = [
        "src/components/CameraManager.cpp",
        "src/components/LightManager.cpp",
        "src/components/RenderableManager.cpp",
        "src/components/TransformManager.cpp",
        "src/driver/opengl/gl_headers.cpp",
        "src/driver/opengl/OpenGLBlitter.cpp",
        "src/driver/opengl/GLUtils.cpp",
        "src/driver/opengl/OpenGLDriver.cpp",
        "src/driver/opengl/OpenGLProgram.cpp",
        "src/driver/CommandStream.cpp",
        "src/driver/CommandBufferQueue.cpp",
        "src/driver/CircularBuffer.cpp",
        "src/driver/Driver.cpp",
        "src/driver/Platform.cpp",
        "src/driver/GPUBuffer.cpp",
        "src/driver/Handle.cpp",
        "src/driver/Program.cpp",
        "src/driver/SamplerBuffer.cpp",
        "src/Box.cpp",
        "src/Camera.cpp",
        "src/Color.cpp",
        "src/Culler.cpp",
        "src/DebugRegistry.cpp",
        "src/DFG.cpp",
        "src/VertexBuffer.cpp",
        "src/Engine.cpp",
        "src/Exposure.cpp",
        "src/Fence.cpp",
        "src/FrameInfo.cpp",
        "src/FrameSkipper.cpp",
        "src/Froxelizer.cpp",
        "src/Frustum.cpp",
        "src/IndexBuffer.cpp",
        "src/IndirectLight.cpp",
        "src/Material.cpp",
        "src/MaterialInstance.cpp",
        "src/PostProcessManager.cpp",
        "src/PrecompiledMaterials.cpp",
        "src/Renderer.cpp",
        "src/RenderPass.cpp",
        "src/RenderPrimitive.cpp",
        "src/RenderTargetPool.cpp",
        "src/Scene.cpp",
        "src/ShadowMap.cpp",
        "src/Skybox.cpp",
        "src/SwapChain.cpp",
        "src/Stream.cpp",
        "src/Texture.cpp",
        "src/UniformBuffer.cpp",
        "src/View.cpp",
        "src/Viewport.cpp",
        # "src/components/CameraManager.h",
        # "src/components/LightManager.h",
        # "src/components/RenderableManager.h",
        # "src/components/TransformManager.h",
        # "src/details/Allocators.h",
        # "src/details/Camera.h",
        # "src/details/Culler.h",
        # "src/details/DebugRegistry.h",
        # "src/details/DFG.h",
        # "src/details/Engine.h",
        # "src/details/Fence.h",
        # "src/details/FrameSkipper.h",
        # "src/details/Froxelizer.h",
        # "src/details/IndexBuffer.h",
        # "src/details/IndirectLight.h",
        # "src/details/Material.h",
        # "src/details/MaterialInstance.h",
        # "src/details/RenderPrimitive.h",
        # "src/details/Renderer.h",
        # "src/details/ResourceList.h",
        # "src/details/Scene.h",
        # "src/details/ShadowMap.h",
        # "src/details/Skybox.h",
        # "src/details/Stream.h",
        # "src/details/SwapChain.h",
        # "src/details/Texture.h",
        # "src/details/VertexBuffer.h",
        # "src/details/View.h",
        # "src/driver/CircularBuffer.h",
        # "src/driver/CommandBufferQueue.h",
        # "src/driver/CommandStream.h",
        # "src/driver/Driver.h",
        # "src/driver/DriverAPI.inc",
        # "src/driver/DriverApi.h",
        # "src/driver/DriverApiForward.h",
        # "src/driver/DriverBase.h",
        # "src/driver/GPUBuffer.h",
        # "src/driver/Handle.h",
        # "src/driver/Program.h",
        # "src/driver/SamplerBuffer.h",
        # "src/FilamentAPI-impl.h",
        # "src/FrameInfo.h",
        # "src/Intersections.h",
        # "src/PostProcessManager.h",
        # "src/PrecompiledMaterials.h",
        # "src/RenderPass.h",
        # "src/RenderTargetPool.h",
        # "src/UniformBuffer.h",
        # "src/upcast.h",
  ] + glob([
    "src/**/*.h"
  ]),
  deps = [
    "//libs/filabridge",
    # "//libs/filaflat",
    "//libs/utils",
    "//libs/math",
    # "//third_party/smol-v",
  ]
)

METRIAL_SRCS = [
  "src/materials/defaultMaterial.mat",
  "src/materials/skybox.mat",
  "src/materials/skyboxRGBM.mat",
]
